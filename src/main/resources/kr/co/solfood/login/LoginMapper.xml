<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.solfood.login.LoginMapper">

    <!-- 카카오 로그인 -->
    <select id="kakaoLogin" parameterType="kr.co.solfood.login.LoginVO"
            resultType="kr.co.solfood.login.LoginVO">
        SELECT *
        FROM users
        WHERE USERS_KAKAO_ID = #{usersKakaoId}
    </select>

    <!-- 기본 가입 처리 -->
    <insert id="register"
            parameterType="kr.co.solfood.login.LoginVO">
        INSERT INTO users (
        COMPANY_ID, DEPARTMENT_ID, USERS_EMAIL, USERS_NICKNAME, USERS_PROFILE, USERS_NAME, USERS_POINT, USERS_AGE, USERS_GENDER, USERS_KAKAO_ID
        ) VALUES (
       #{companyId}, #{departmentId}, #{usersEmail}, #{usersNickname}, #{usersProfile}, #{usersName}, #{usersPoint}, #{usersAge}, #{usersGender}, #{usersKakaoId}
        )
    </insert>

    <!-- 로그인 -->
    <select id="login" parameterType="kr.co.solfood.login.LoginVO"
            resultType="kr.co.solfood.login.LoginVO">
        SELECT *
        FROM users
        WHERE USERS_KAKAO_ID = #{usersKakaoId}
    </select>

    <!-- view -->
    <select id="view" parameterType="String"
            resultType="kr.co.solfood.login.LoginVO">
        SELECT *
        FROM users
        WHERE USERS_KAKAO_ID = #{usersKakaoId}
    </select>

</mapper>
